<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Canglah Micyang & Friends - Music Performances & Lessons</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta
      name="description"
      content="Canglah Micyang | Phyllis Yen | 嚴子晴 | collaborative pianist / social or corporate events / live music performances / home violin, viola, piano lesson for all ages & levels in Mandarin or English in Hsinchu"
    />

    <!-- SEO Improvements -->
    <meta name="robots" content="noindex, follow" />
    <link rel="canonical" href="https://canglah-micyang.com/en/" />
    <link
      rel="alternate"
      hreflang="en"
      href="https://canglah-micyang.com/en/"
    />
    <link
      rel="alternate"
      hreflang="zh-TW"
      href="https://canglah-micyang.com/zh_tw/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://canglah-micyang.com/en/"
    />

    <!-- Preload language-specific pages and critical resources -->
    <link rel="prefetch" href="./en/" />
    <link rel="prefetch" href="./zh_tw/" />
    <link rel="preload" href="./css/main.css" as="style" />
    <link rel="preload" href="./img/banner.webp" as="image" type="image/webp" />
    <link rel="preload" href="./img/banner.jpg" as="image" type="image/jpeg" />
    <link rel="dns-prefetch" href="https://youtu.be" />
    <link rel="dns-prefetch" href="https://www.youtube.com" />

    <script>
      // Optimized language detection and redirect
      (function () {
        const userLanguages = navigator.languages || [
          navigator.language || navigator.userLanguage,
        ];
        let targetLanguage = "en"; // Default to English

        // Check user's preferred languages
        for (let lang of userLanguages) {
          const langLower = lang.toLowerCase();
          // Check for Traditional Chinese
          if (
            langLower.includes("zh-tw") ||
            langLower.includes("zh-hant") ||
            langLower === "zh-mo" ||
            langLower === "zh-hk"
          ) {
            targetLanguage = "zh_tw";
            break;
          }
          // Check for English (keep as default)
          if (langLower.startsWith("en")) {
            targetLanguage = "en";
            break;
          }
        }

        // Immediate redirect - no delay
        if (targetLanguage === "zh_tw") {
          window.location.replace("./zh_tw/");
        } else {
          window.location.replace("./en/");
        }
      })();
    </script>

    <!-- Fallback meta refresh in case JavaScript is disabled -->
    <meta http-equiv="refresh" content="0; url=./en/" />
  </head>
  <body>
    <div
      style="
        text-align: center;
        margin-top: 50px;
        font-family: Arial, sans-serif;
      "
    >
      <h1>Canglah Micyang & Friends</h1>
      <p>Redirecting to your preferred language...</p>
      <p>
        如果沒有自動跳轉，請選擇語言 | If not redirected automatically, please
        choose your language:
      </p>
      <p>
        <a
          href="./en/"
          style="
            margin: 10px;
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
          "
          >English</a
        >
        <a
          href="./zh_tw/"
          style="
            margin: 10px;
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
          "
          >中文</a
        >
      </p>
    </div>
  </body>
</html>
